<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>POS - Expences</title>
    <link rel="shortcut icon" href="common/files/Setting/logo.png" />
    <!-- jQuery -->
    <script
      type="text/javascript"
      src="common/assets/js/jquery-2.2.2.min.js"
    ></script>
    <script type="text/javascript" src="common/assets/js/loading.js"></script>
    <!-- normalize & reset style -->
    <link
      rel="stylesheet"
      href="common/assets/css/normalize.min.css"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="common/assets/css/reset.min.css"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="common/assets/css/jquery-ui.css"
      type="text/css"
    />
    <!-- google lato font -->
    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,700,900,300"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Bootstrap Core CSS -->
    <link href="common/assets/css/bootstrap.min.css" rel="stylesheet" />
    <!-- bootstrap-horizon -->
    <link href="common/assets/css/bootstrap-horizon.css" rel="stylesheet" />
    <!-- datatable style -->
    <link
      href="common/assets/datatables/css/dataTables.bootstrap.css"
      rel="stylesheet"
    />
    <!-- font awesome -->
    <link rel="stylesheet" href="common/assets/css/font-awesome.min.css" />
    <!-- include summernote css-->
    <link href="common/assets/css/summernote.css" rel="stylesheet" />
    <!-- waves -->
    <link rel="stylesheet" href="common/assets/css/waves.min.css" />
    <!-- daterangepicker -->
    <link
      rel="stylesheet"
      type="text/css"
      href="common/assets/css/daterangepicker.css"
    />
    <!-- css for the preview keyset extension -->
    <link
      href="common/assets/css/keyboard-previewkeyset.css"
      rel="stylesheet"
    />
    <!-- keyboard widget style -->
    <link href="common/assets/css/keyboard.css" rel="stylesheet" />
    <!-- Select 2 style -->
    <link href="common/assets/css/select2.min.css" rel="stylesheet" />
    <!-- Sweet alert swal -->
    <link
      rel="stylesheet"
      type="text/css"
      href="common/assets/css/sweetalert.css"
    />
    <!-- datepicker css -->
    <link
      rel="stylesheet"
      type="text/css"
      href="common/assets/css/bootstrap-datepicker.min.css"
    />
    <!-- Custom CSS -->
    <link href="common/assets/css/Style-Light.css" rel="stylesheet" />
  </head>
  <body>
    
      <!-- Navigation -->
      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
           <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#"><img src="common/files/Setting/logo.png" alt="logo"  style='max-height: 45px; max-width: 200px'></a>
           </div>
           <!-- Brand and toggle get grouped for better mobile display -->
           <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                 <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/"><i class="fa fa-credit-card"></i> POS</a></li>
                <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/products"><i class="fa fa-archive"></i> Product</a></li>
                <li class="dropdown">
                   <a href="#" class="dropdown-toggle flat-box" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-users"></i> People <span class="caret"></span></a>
                   <ul class="dropdown-menu">
                      <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/customers"><i class="fa fa-user"></i> Customers</a></li>
                      <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/suppliers"><i class="fa fa-truck"></i> Suppliers</a></li>
                   </ul>
                </li>
                <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/sales"><i class="fa fa-ticket"></i> Sales</a></li>
                <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/expences"><i class="fa fa-usd"></i> Expense</a></li>
                <li class="dropdown">
                   <a href="#" class="dropdown-toggle flat-box" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-bookmark"></i> Categories <span class="caret"></span></a>
                   <ul class="dropdown-menu">
                      <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/categories"><i class="fa fa-archive"></i> Product</a></li>
                      <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/categorie_expences"><i class="fa fa-usd"></i> Expense</a></li>
                   </ul>
                </li>
                <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/settings?tab=setting"><i class="fa fa-cogs"></i> Setting</a></li>                 <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/stats"><i class="fa fa-line-chart"></i> Reports</a></li>               </ul>
              <ul class="nav navbar-nav navbar-right">
                 <li><a href="">
                       <img class="img-circle topbar-userpic hidden-xs" src="common/files/Avatars/user.jpg" width="30px" height="30px">
                       <span class="hidden-xs"> &nbsp;&nbsp;Salum Jabir </span>
                    </a>
                 </li>
                 <li class="dropdown language">
                    <a href="#" class="dropdown-toggle flat-box" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                       <img src="common/assets/img/flags/en.png" class="flag" alt="language">
                       <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/english"><img src="common/assets/img/flags/en.png" class="flag" alt="language"> English</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/francais"><img src="common/assets/img/flags/fr.png" class="flag" alt="language"> Français</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/portuguese"><img src="common/assets/img/flags/pr.png" class="flag" alt="language"> Portuguese</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/spanish"><img src="common/assets/img/flags/sp.png" class="flag" alt="language"> Spanish</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/arabic"><img src="common/assets/img/flags/ar.png" class="flag" alt="language"> العربية</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/danish"><img src="common/assets/img/flags/da.png" class="flag" alt="language"> Danish</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/turkish"><img src="common/assets/img/flags/tr.png" class="flag" alt="language"> Turkish</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/greek"><img src="common/assets/img/flags/gr.png" class="flag" alt="language"> Greek</a></li>
                       <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/dashboard/change/swahili"><img src="common/assets/img/flags/tz.png" class="flag" alt="language"> Swahili</a></li>
                    </ul>
                 </li>
                 <li class="flat-box"><a href="http://www.dar-elweb.com/demos/zarpos/logout" title="Logout"><i class="fa fa-sign-out fa-lg"></i></a></li>
              </ul>
           </div>
           <div id="loadingimg"></div>
        </div>
        <!-- /.container -->
     </nav>
     <!-- Page Content -->


     <!-- Page Content -->
     <div class="container">

      <h3>Expence</h3>
      <br />
      <br />
      <table id="table" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead class="thead-inverse">
          <tr>
            <th>Date</th>
            <th>Reference</th>
            <th>Amount</th>
            <th>Category</th>
            <th>Store</th>
            <th>Ceated By</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
  
      <!-- Button trigger modal -->
     <button type="button" class="btn btn-add btn-lg" data-toggle="modal" data-target="#AddExpence">
       Add Expence   </button>
    </div>
  
  
    <script type="text/javascript">
  
      var save_method; //for save method string
      var table;
  
  
      $(document).ready(function() {
  
        $('#Date').datepicker({
            todayHighlight: true
        });
  
        $('#summernote').summernote({
           height: 200,
           toolbar: [
            // [groupName, [list of button]]
            ['style', ['bold', 'italic', 'underline', 'clear']],
            ['font', []],
            ['fontsize', ['fontsize']],
            ['color', ['color']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['height', ['height']]
          ]
        });
  
        table = $('#table').DataTable({
  
          "processing": true, //Feature control the processing indicator.
          "serverSide": true, //Feature control DataTables' server-side processing mode.
          "order": [], //Initial no order.
          // Load data for the table's content from an Ajax source
          "ajax": {
              "url": "http://www.dar-elweb.com/demos/zarpos/expences_controller/ajax_list",
              "type": "POST"
          },
  
          //Set column definition initialisation properties.
          "columnDefs": [
          {
            "targets": [ -1 ], //last column
            "orderable": false, //set not orderable
          },
          ],
           "bInfo": false,
           // "fnRowCallback": function(nRow, aData, iDisplayIndex) {
           //     nRow.setAttribute('data-order',aData[4]);
           // }
        });
      });
  
  
      function reload_table()
      {
        table.ajax.reload(null,false); //reload datatable ajax
      }
  
      function delete_expences(id)
      {
        swal({   title: 'Are you sure ?',
        text: 'You will not be able to recover this Data later!',
        type: "warning",
        showCancelButton: true,
        confirmButtonColor: "#DD6B55",
        confirmButtonText: 'Yes, delete it!',
        closeOnConfirm: false },
        function(){
           // ajax delete data to database
           $.ajax({
              url : "http://www.dar-elweb.com/demos/zarpos/expences_controller/ajax_delete/"+id,
              type: "POST",
              dataType: "JSON",
              success: function(data)
              {
                 //if success reload ajax table
                 $('#modal_form').modal('hide');
                 reload_table();
              },
              error: function (jqXHR, textStatus, errorThrown)
              {
                 alert('Error adding / update data');
              }
           });
           swal('Deleted!', 'the data has been deleted.', "success"); });
      }
  
  
    </script>
  
  
    <!-- Modal -->
    <div class="modal fade" id="AddExpence" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
     <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Add Expence</h4>
          </div>
          <form action="http://www.dar-elweb.com/demos/zarpos/expences/add" method="post" accept-charset="utf-8" id="addform" enctype="multipart/form-data">        <div class="modal-body">
                <div class="form-group controls">
                 <label for="Date">Date *</label>
                 <input type="text" maxlength="30" Required name="date" class="form-control" id="Date" placeholder="Date">
               </div>
               <div class="form-group">
                 <label for="Reference">Reference *</label>
                 <input type="text" name="reference" maxlength="25" Required class="form-control" id="Reference" placeholder="Reference">
               </div>
               <div class="form-group">
                 <label for="Category">Category</label>
                 <select class="form-control" name="category" id="Category">
                   <option value="0">Category</option>
                                       <option value="1">invoices</option>
                                       <option value="2">product</option>
                                 </select>
               </div>
               <div class="form-group">
                 <label for="store_id">Store</label>
                                         <select class="form-control" name="store_id" id="store_id">
                         <option value="0">Store</option>
                                                   <option value="1">Dar el web</option>
                                                   <option value="3">zar POS store</option>
                                                </select>
                     
               </div>
               <div class="form-group">
                 <label for="Amount">Amount (SYP) *</label>
                 <input type="number" step="any" Required name="amount" class="form-control" id="Amount" placeholder="Amount">
               </div>
               <div class="form-group">
                  <label for="exampleInputFile">Attachment</label>
                  <input type="file" name="userfile" id="attachment">
                   <p class="help-block">Accepted files(images|pdf|doc|xls|zip) Max size : 2Mb</p>
               </div>
               <div class="form-group">
                 <label for="Note">Note</label>
                 <textarea id="summernote" name="note"></textarea>
               </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-add">Submit</button>
          </div>
       </form>      </div>
     </div>
    </div>
    <!-- /.Modal -->
  
    <!-- slim scroll script -->
    <script
      type="text/javascript"
      src="common/assets/js/jquery.slimscroll.min.js"
    ></script>
    <!-- waves material design effect -->
    <script type="text/javascript" src="common/assets/js/waves.min.js"></script>
     <!-- Bootstrap Core JavaScript -->
     <script type="text/javascript" src="common/assets/js/bootstrap.min.js"></script>
     <!-- keyboard widget dependencies -->
     <script type="text/javascript" src="common/assets/js/jquery.keyboard.js"></script>
     <script type="text/javascript" src="common/assets/js/jquery.keyboard.extension-all.js"></script>
     <script type="text/javascript" src="common/assets/js/jquery.keyboard.extension-extender.js"></script>
     <script type="text/javascript" src="common/assets/js/jquery.keyboard.extension-typing.js"></script>
     <script type="text/javascript" src="common/assets/js/jquery.mousewheel.js"></script>
      <!-- select2 plugin script -->
      <script type="text/javascript" src="common/assets/js/select2.min.js"></script>
      <!-- dalatable scripts -->
      <script src="common/assets/datatables/js/jquery.dataTables.min.js"></script>
      <script src="common/assets/datatables/js/dataTables.bootstrap.js"></script>
      <!-- summernote js -->
      <script src="common/assets/js/summernote.js"></script>
        <!-- chart.js script -->
        <script src="common/assets/js/Chart.js"></script>
        <!-- moment JS -->
      <script type="text/javascript" src="common/assets/js/moment.min.js"></script>
       <!-- Include Date Range Picker -->
       <script type="text/javascript" src="common/assets/js/daterangepicker.js"></script>
       <!-- Sweet Alert swal -->
      <script src="common/assets/js/sweetalert.min.js"></script>
      <!-- datepicker script -->
      <script src="common/assets/js/bootstrap-datepicker.min.js"></script>
      <!-- creditCardValidator script -->
      <script src="common/assets/js/jquery.creditCardValidator.js"></script>
       <!-- creditCardValidator script -->
       <script src="common/assets/js/credit-card-scanner.js"></script>
       <script src="common/assets/js/jquery.redirect.js"></script>
       <!-- ajax form -->
      <script src="common/assets/js/jquery.form.min.js"></script>
      <!-- custom script -->
      <script src="common/assets/js/app.js"></script>
  </body>
</html>
